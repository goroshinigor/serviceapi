<?php

//ini_set('display_errors',1);
//error_reporting(E_ERROR+E_COMPILE_ERROR+E_CORE_ERROR+E_PARSE+E_USER_ERROR);

$key = '';
$p = array();


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Регистрация физика

//$uri = "Registrate";
//$p = array(
//    'registrationData' => array(
//        'lastName' => "Тихонов2",
//        'firstName' => "Виктор2",
//        'middleName' => "",
//        'email' => "1",
//        'phoneNumber' => "+380972706986",
//        'gender' => 1,
//        'birthday' => "2019-01-01"
//    ),
//    'password' => '123456'
//);
//
//$p['debug_mode'] = 1;

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Изменение физика

//$uri = "ClientUpdate";
//$p = array(
//    'memberId' => "000000007",
//    'password' => '444444'
//);


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Удаление физика

//$uri = "ClientDelete";
//$p = array(
//    'memberId' => ""
//);

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Получение инфы физика

//$uri = "ClientInfo";
//$p = array(
//    'memberId' => "000000001",
//);

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Проверка телефона

//$uri = "VerifyPhone";
//$p = array(
//    'phoneNumber' => '+380972706986'
//);

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Поиск телефона

//$uri = "CheckPhone";
//$p = array(
//    'phoneNumber' => '+380972706986'
//);

//$p['debug_mode'] = 1;

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Проверка логина пароля

//$uri = "LoginPhoneNumber";
//$p = array(
//    'phoneNumber' => '+380972706986',
//    'password' => '444444'
//);

//$p['debug_mode'] = 1;


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Отправка СМС

//$uri = "SMSSend";
//$p = array(
//    'phoneNumber' => '+380972706986',
//    'text' => '12345',
//    'converToTranslit' => 0
//);

//$p['debug_mode'] = 1;


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if(!isset($p)) $p = '';

$post = json_encode($p);

$curl = curl_init();

curl_setopt($curl, CURLOPT_URL, 'https://crmapi.justin.ua/api/justin/'.$uri);

curl_setopt($curl, CURLOPT_RETURNTRANSFER,0);
curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, 0); // не проверять SSL сертификат
curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, 0); // не проверять Host SSL сертификата
curl_setopt($curl, CURLOPT_POST,true);
curl_setopt($curl, CURLOPT_POSTFIELDS,$post);
$api = curl_exec($curl);
curl_close($curl);


?>